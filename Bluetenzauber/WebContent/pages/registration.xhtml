<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">

<head><title>Registration</title></head>

<h:body>
	
	<!-- TODO Orientierung User  oder Schritte Einkauf-->

	<h1>Registration</h1>
	
	 <h:form>
		<h:panelGrid id ="grid">
		
			<h:outputText value="ID"/>
			<h:inputText id="ID" value="#{userBean.user.id}" required="true"
				requiredMessage="TODO ID in SQL generieren">
				<h:message for="ID" errorStyle="color:red;"/>
				<br />
			</h:inputText>
			
			<h:outputText value="Vorname"/>
			<h:inputText id="Vorname" value="#{userBean.user.firstname}" required="true"
				requiredMessage="Sie m端ssen einen Vornamen angeben">
				<h:message for="Vorname" errorStyle="color:red;"/>
				<br />
			</h:inputText>
			
			<h:outputText value="Nachname"/>
			<h:inputText id="Nachname" value="#{userBean.user.lastname}" required="true"
				requiredMessage="Sie m端ssen einen Nachnamen angeben">
				<h:message for="Nachname" errorStyle="color:red;"/>
				<br />
			</h:inputText>
			
		
			<h:outputText value="Mail"/>
			<h:inputText value="#{userBean.user.eMail}" id = "EMail" required="true"
				requiredMessage="Sie m端ssen eine E-Mail angeben">
				<!-- Ajax Validierung der E-Mail -->
				<f:ajax render= "errorMessageEmail save" execute= "@this" event = "keyup" ></f:ajax>
				<f:validator validatorId="emailValidator"/>
				<h:message for = "EMail" errorStyle="color:red;" id = "errorMessageEmail"/> 
				<br />
			</h:inputText>
			
			<h:outputText value="Passwort"/>
			<h:inputSecret id="Passwort" value="#{userBean.user.password}" required="true"
				requiredMessage="Sie m端ssen ein Passwort angeben">
				<h:message for = "Passwort" errorStyle="color:red;"/> 
				<br />
			</h:inputSecret>
			
			<h:commandButton id ="save" value="Speichern" action="#{userBean.saveUser}"></h:commandButton>
			<h:commandButton value="Abbruch" action= "/pages/home.xhtml" immediate="true"></h:commandButton>
			
			<!-- TODO Button zur Anmeldung-->
			
		</h:panelGrid>
	</h:form>

</h:body>
</html>